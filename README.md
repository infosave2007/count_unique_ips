# Count Unique IPv4 Addresses

Этот проект решает задачу подсчета уникальных IPv4-адресов из сжатого текстового файла (ZIP), используя битовый массив. Решение эффективно как по памяти, так и по скорости, а также не требует распаковки архива на диск.

## Описание решения

IPv4-адрес — это 32-битное число. Всего существует 2³² возможных уникальных адресов (около 4.3 миллиарда). Для эффективного подсчета уникальных адресов мы используем битовый массив размером 2³² бит (512 МБ). Каждый бит в массиве соответствует одному IP-адресу. Когда мы читаем файл с IP-адресами, каждый адрес преобразуется в 32-битное число, и соответствующий бит в массиве устанавливается в 1.

### Преимущества

- **Память**: Для хранения всех возможных IP-адресов требуется фиксированный объем памяти — около 512 МБ.
- **Скорость**: Операции установки и проверки битов выполняются очень быстро.
- **Отсутствие коллизий**: В отличие от хэш-таблиц, не требуется дополнительных накладных расходов на хранение ключей и значений.
- **Использование ZIP без распаковки на диск**: Проект работает непосредственно с ZIP-файлом, что снижает нагрузку на файловую систему и экономит дисковое пространство.

## Установка

1. **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/infosave2007/count_unique_ips.git
    cd count_unique_ips
    ```

2. **Поместите ZIP-файл с IP-адресами в корневую директорию проекта.**

3. **Запустите программу:**
    ```bash
    go run main.go
    ```
    Программа автоматически обработает файл и выведет количество уникальных IP-адресов.

## Особенности

- **Буферизация больших файлов**: Используется `bufio.Scanner` с увеличенным буфером для обработки больших файлов с длинными строками.
- **Прогресс-бар**: Программа выводит прогресс обработки файла с помощью библиотеки [`progressbar`](https://github.com/schollz/progressbar).
- **Обработка ошибок**: Адреса с ошибками форматирования пропускаются с уведомлением в `stderr`.

## Требования

- **Go**: версия 1.16 и выше.
- **ZIP-файл с IP-адресами**: текстовый формат (один адрес на строку).

## Использование

1. **Убедитесь, что Go установлен на вашей системе:**
    ```bash
    go version
    ```
    Если Go не установлен, скачайте его с [официального сайта](https://golang.org/dl/).

2. **Компиляция программы:**
    ```bash
    go build -o count_unique_ips
    ```

3. **Запуск программы:**
    ```bash
    ./count_unique_ips
    ```
    Программа начнет обработку файла и покажет прогресс в одной строке.

## Автор

Проект создан [infosave2007](https://github.com/infosave2007).